# Slide Panel

A reusable right slide-out panel component for displaying content, forms, or any other information in a non-intrusive overlay.

## Features

- Smooth slide-in/out animation from the right side
- Backdrop with blur effect
- Close button with hover effects
- Keyboard support (ESC key to close)
- Mobile responsive
- Customizable content via slots
- Multiple panel instances support
- Works with Astro View Transitions

## Installation

The package is already included in this project under `src/packages/slide-panel/`.

## Usage

### Basic Usage

```astro
---
import { SlidePanel } from '@/packages/slide-panel';
---

<SlidePanel id="my-panel" title="My Panel Title">
  <!-- Your content goes here -->
  <p>This is the panel content</p>
</SlidePanel>

<!-- Button to open the panel -->
<button onclick="openMyPanel()">Open Panel</button>
```

### Without Title

```astro
<SlidePanel id="simple-panel">
  <h2>Custom Title</h2>
  <p>Your content with custom styling</p>
</SlidePanel>
```

### Programmatic Control

The panel automatically exposes global functions based on the `id` prop:

```javascript
// For a panel with id="my-panel"
window.openMyPanel()    // Opens the panel
window.closeMyPanel()   // Closes the panel
```

The function names are generated by converting the `id` to camelCase and adding `open` or `close` prefix with capitalization.

Examples:
- `id="schedule-call"` → `openScheduleCall()`, `closeScheduleCall()`
- `id="contact-form"` → `openContactForm()`, `closeContactForm()`
- `id="sidebar"` → `openSidebar()`, `closeSidebar()`

### Advanced Usage with Custom Callbacks

If you need more control, you can use the `initSlidePanel` function directly:

```javascript
import { initSlidePanel } from '@/packages/slide-panel';

const panel = initSlidePanel({
  panelId: 'my-panel',
  backdropId: 'my-backdrop',
  closeButtonId: 'my-close-button',
  onOpen: () => {
    console.log('Panel opened!');
    // Load content, trigger animations, etc.
  },
  onClose: () => {
    console.log('Panel closed!');
    // Cleanup, reset forms, etc.
  },
  closeOnEscape: true,
  closeOnBackdropClick: true,
});

// Use the panel
panel.open();
panel.close();

// Clean up when done
panel.cleanup();
```

## Props

### SlidePanel Component

| Prop | Type | Required | Description |
|------|------|----------|-------------|
| `id` | `string` | Yes | Unique identifier for this panel instance |
| `title` | `string` | No | Optional title to display at the top of the panel |

## API Reference

### `initSlidePanel(options)`

Initialize a slide panel with custom configuration.

#### Options

| Option | Type | Default | Description |
|--------|------|---------|-------------|
| `panelId` | `string` | Required | The ID of the panel element |
| `backdropId` | `string` | Required | The ID of the backdrop element |
| `closeButtonId` | `string` | Required | The ID of the close button element |
| `onOpen` | `Function` | `null` | Callback function called when panel opens |
| `onClose` | `Function` | `null` | Callback function called when panel closes |
| `closeOnEscape` | `boolean` | `true` | Whether to close panel on ESC key |
| `closeOnBackdropClick` | `boolean` | `true` | Whether to close panel on backdrop click |

#### Returns

Object with the following methods:
- `open()`: Opens the panel
- `close()`: Closes the panel
- `cleanup()`: Removes event listeners and cleans up

## Styling

The panel uses CSS custom properties from your theme:

- `--color-text`: Text and close button color
- `--color-accent-secondary`: Hover state for close button
- `--color-white`: Title color
- `--color-bg-primary`: Scrollbar track background
- `--color-bg-elevated`: Content background and scrollbar thumb
- `--color-bg-hover`: Scrollbar thumb hover state

### Custom Styling

You can override the default styles by targeting the CSS classes:

```css
.slide-panel {
  /* Customize panel appearance */
  max-width: 800px; /* Make it wider */
}

.slide-panel-content {
  /* Customize content area */
  padding: 3rem;
}

.slide-panel-close-button {
  /* Customize close button */
  top: 2rem;
  left: 2rem;
}
```

## Examples

### Schedule Call Panel

```astro
---
import { SlidePanel } from '@/packages/slide-panel';
---

<SlidePanel id="schedule-call" title="Schedule a Meeting">
  <div class="cal-embed-container">
    <iframe
      width="100%"
      height="100%"
      src="https://cal.com/your-calendar"
      title="Schedule a meeting"
    ></iframe>
  </div>
</SlidePanel>

<button onclick="openScheduleCall()">Book a Call</button>
```

### Contact Form Panel

```astro
---
import { SlidePanel } from '@/packages/slide-panel';
---

<SlidePanel id="contact-form" title="Get in Touch">
  <form>
    <input type="text" placeholder="Your name" />
    <input type="email" placeholder="Your email" />
    <textarea placeholder="Your message"></textarea>
    <button type="submit">Send Message</button>
  </form>
</SlidePanel>

<button onclick="openContactForm()">Contact Us</button>
```

## Browser Support

- Modern browsers with CSS nesting support
- Chrome/Edge 112+
- Safari 16.5+
- Firefox 117+

## License

Part of the Akradé web project.
