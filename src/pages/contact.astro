---
import BaseLayout from '@/layouts/BaseLayout.astro';

// Design System
import '../styles/homepage.css';
import '../styles/contact.css';
---

<BaseLayout 
  title="Contact | Akradé"
  description="Get in touch with Akradé to discuss your AI product strategy and design needs. Schedule a meeting directly on our calendar."
  theme="light">

  <main class="contact-page">

    <!-- Contact Hero -->
    <section class="contact-hero">
      <h1>Let's Talk</h1>
      <p>Book time directly on our calendar to discuss your project.</p>
    </section>


    <!-- Schedule a Meeting -->
    <section class="contact-schedule">
      <div class="cal-embed-container">
        <iframe
          width="100%"
          height="700"
          frameborder="0"
          allow="camera; microphone; autoplay; encrypted-media;"
          title="Schedule a meeting with Akradé"
          id="contactCalEmbed"
        ></iframe>
      </div>
    </section>

  </main>

</BaseLayout>

<script is:inline>
  // @ts-nocheck
  // Set cal.com iframe theme based on page theme - works with both initial load and View Transitions
  (function() {
    function initContactCalTheme() {
      const calIframe = document.getElementById('contactCalEmbed');

      if (calIframe) {
        const htmlElement = document.documentElement;
        const currentTheme = htmlElement.getAttribute('data-theme') || 'light';
        const baseUrl = 'https://cal.com/akrade';

        // Set iframe src with theme parameter
        calIframe.src = `${baseUrl}?theme=${currentTheme}`;
      }
    }

    // Initialize immediately on first load
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initContactCalTheme);
    } else {
      initContactCalTheme();
    }

    // Re-initialize after View Transitions navigation
    document.addEventListener('astro:page-load', initContactCalTheme);
  })();
</script>
